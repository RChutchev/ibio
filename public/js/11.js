(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{t5bt:function(t,e,s){"use strict";s.r(e);var a=s("o0o1"),n=s.n(a);function r(t,e,s,a,n,r,o){try{var i=t[r](o),p=i.value}catch(t){return void s(t)}i.done?e(p):Promise.resolve(p).then(a,n)}function o(t){return function(){var e=this,s=arguments;return new Promise((function(a,n){var o=t.apply(e,s);function i(t){r(o,a,n,i,p,"next",t)}function p(t){r(o,a,n,i,p,"throw",t)}i(void 0)}))}}function i(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var u={name:"DonationSettings",data:function(){return{thankYouMessage:this.$page.props.user.donation.thank_you_message,savingThankYouMessage:!1,payApi:this.$page.props.user.donation.payir_api,savingPayApi:!1,showPayApiHelp:!1,amounts:i(this.$page.props.user.donation.amounts),savingAmounts:!1,amount:""}},methods:{updateThankYouMessage:function(){var t=this;return o(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.savingThankYouMessage=!0,e.next=3,t.$inertia.post(route("donation.settings.thank-you-message"),{text:t.thankYouMessage},{preserveScroll:!0});case 3:t.savingThankYouMessage=!1;case 4:case"end":return e.stop()}}),e)})))()},updatePayApi:function(){var t=this;return o(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.savingPayApi=!0,e.next=3,t.$inertia.post(route("donation.settings.payir-api"),{payir_api:t.payApi},{preserveScroll:!0});case 3:t.savingPayApi=!1;case 4:case"end":return e.stop()}}),e)})))()},addAmount:function(){this.amount&&""!==this.amount&&(this.amounts.push(this.amount),this.updateAmounts())},removeAmount:function(t){this.amounts.splice(t,1),this.updateAmounts()},updateAmounts:function(){var t=this;return o(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.savingAmounts=!0,e.next=3,t.$inertia.post(route("donation.settings.amounts"),{amounts:t.amounts},{preserveScroll:!0});case 3:t.amount="",t.savingAmounts=!1;case 5:case"end":return e.stop()}}),e)})))()},updateStatus:function(){var t=this;return o(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$inertia.post(route("donation.settings.status",{status:t.$page.props.user.donation.active?1:0}));case 2:case"end":return e.stop()}}),e)})))()},updateSupportersStatus:function(){var t=this;return o(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$inertia.post(route("donation.settings.supporters-status",{status:t.$page.props.user.donation.show_supporters?1:0}));case 2:case"end":return e.stop()}}),e)})))()}}},c=s("KHd+"),l=Object(c.a)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("donation",[s("v-card",{staticClass:"mb-5"},[s("v-title",{staticClass:"mb-5",attrs:{small:""}},[t._v("تنظیمات اصلی")]),t._v(" "),s("div",{staticClass:"flex items-center justify-between mb-5"},[s("div",{staticClass:"ml-10 text-sm md:text-base"},[t._v("فعال سازی و غیر فعال سازی حمایت مالی")]),t._v(" "),s("div",{staticClass:"flex items-center justify-end"},[t.$page.props.user.donation.active?s("span",{staticClass:"w-16 text-left"},[t._v("فعال")]):s("span",{staticClass:"w-16 text-left"},[t._v("غیر فعال")]),t._v(" "),s("label",{staticClass:"switch mr-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$page.props.user.donation.active,expression:"$page.props.user.donation.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.$page.props.user.donation.active)?t._i(t.$page.props.user.donation.active,null)>-1:t.$page.props.user.donation.active},on:{change:[function(e){var s=t.$page.props.user.donation.active,a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.$page.props.user.donation,"active",s.concat([null])):r>-1&&t.$set(t.$page.props.user.donation,"active",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.$page.props.user.donation,"active",n)},t.updateStatus]}}),t._v(" "),s("span",{staticClass:"slider"})])])]),t._v(" "),s("div",{staticClass:"flex items-center justify-between"},[s("div",{staticClass:"ml-10 text-sm md:text-base"},[t._v("نمایش لیست حمایت کنندگان در صفحه حمایت مالی")]),t._v(" "),s("div",{staticClass:"flex items-center justify-end"},[t.$page.props.user.donation.active&&t.$page.props.user.donation.show_supporters?s("span",{staticClass:"w-16 text-left"},[t._v("فعال")]):s("span",{staticClass:"w-16 text-left"},[t._v("غیر فعال")]),t._v(" "),s("label",{staticClass:"switch mr-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$page.props.user.donation.active&&t.$page.props.user.donation.show_supporters,expression:"$page.props.user.donation.active && $page.props.user.donation.show_supporters"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.$page.props.user.donation.active&&t.$page.props.user.donation.show_supporters)?t._i(t.$page.props.user.donation.active&&t.$page.props.user.donation.show_supporters,null)>-1:t.$page.props.user.donation.active&&t.$page.props.user.donation.show_supporters},on:{change:[function(e){var s=t.$page.props.user.donation.active&&t.$page.props.user.donation.show_supporters,a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=t._i(s,null);a.checked?r<0&&t.$set(t.$page.props.user.donation.active&&t.$page.props.user.donation,"show_supporters",s.concat([null])):r>-1&&t.$set(t.$page.props.user.donation.active&&t.$page.props.user.donation,"show_supporters",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.$page.props.user.donation.active&&t.$page.props.user.donation,"show_supporters",n)},t.updateSupportersStatus]}}),t._v(" "),s("span",{staticClass:"slider"})])])])],1),t._v(" "),s("div",{staticClass:"bg-yellow-50 border-r-4 border-yellow-500 text-yellow-700 p-4 rounded-sm mb-5"},[s("p",{staticClass:"leading-loose"},[t._v("تمامی پرداخت ها از طریق pay.ir انجام میشه و مبالغ واریزی به کیف پول شما در pay.ir واریز خواهد شد. بنابراین برای انتقال حمایت های دریافتی به حساب بانکیتون باید از طریق پنل کاربری pay.ir اقدام کنید.")])]),t._v(" "),s("v-card",{staticClass:"mb-5"},[s("v-title",{staticClass:"mb-5",attrs:{small:""}},[t._v("تنظیمات درگاه پرداخت")]),t._v(" "),s("div",{staticClass:"bg-blue-50 border-r-4 border-blue-500 text-blue-700 p-4 rounded-sm mb-5"},[s("p",{staticClass:"cursor-pointer",on:{click:function(e){t.showPayApiHelp=!0}}},[t._v("راهنمای دریافت API-Key شبکه پردخت پِی")]),t._v(" "),s("ul",{staticClass:"pr-10 list-disc mt-3",class:{hidden:!t.showPayApiHelp}},[s("li",{staticClass:"mb-2"},[t._v("ابتدا وارد وبسایت\n                    "),s("a",{attrs:{href:"https://pay.ir",target:"_blank"}},[t._v("pay.ir")]),t._v("\n                    بشید و ثبت نام کنید\n                ")]),t._v(" "),s("li",{staticClass:"mb-2"},[t._v("مدارکتون رو ارسال کنید و منتظر بمونید تا تایید بشه")]),t._v(" "),s("li",{staticClass:"mb-2"},[t._v("حساب بانکیتون رو ثبت کنید و منتظر بمونید تا تایید بشه")]),t._v(" "),s("li",{staticClass:"mb-2"},[t._v("درخواست درگاه بدید برای آدرس http://ibio.link و منتظر بمونید تا توسط شاپرک تایید بشه")]),t._v(" "),s("li",{staticClass:"mb-2"},[t._v("بعد از تایید درگاه API-Key دریافت شده رو توی فیلد زیر وارد کنید")]),t._v(" "),s("li",[t._v("راهنمایی بیشتر در اینجا\n                    "),s("a",{attrs:{href:"https://pay.ir/help-center",target:"_blank"}},[t._v("pay.ir/help-center")])])])]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.updatePayApi(e)}}},[s("v-input",{staticClass:"mb-4",attrs:{"input-class":"ltr",name:"name",label:"API-Key شبکه پردخت پِی",error:t.$page.props.errors.payApi&&t.$page.props.errors.payApi.payir_api},model:{value:t.payApi,callback:function(e){t.payApi=e},expression:"payApi"}}),t._v(" "),s("v-button",{staticClass:"mt-5",attrs:{loading:t.savingPayApi},on:{click:t.updatePayApi}},[t._v("ذخیره")])],1)],1),t._v(" "),s("v-card",{staticClass:"mb-5"},[s("v-title",{staticClass:"mb-5",attrs:{small:""}},[t._v("مبالغ حمایتی")]),t._v(" "),s("p",{staticClass:"mb-5"},[t._v("گزینه مبلغ دلخواه بصورت پیشفرض از قبل وجود دارد و در صفحه حمایت نمایش داده میشود")]),t._v(" "),s("div",{staticClass:"mb-5"},t._l(t.$page.props.user.donation.amounts,(function(e,a){return s("div",{staticClass:"inline-flex p-2 rounded-lg items-center justify-between bg-purple-100 text-purple-600 ml-2 mb-2"},[s("div",{staticClass:"ml-4"},[t._v(t._s(t._f("xmoney")(e))+" تومان")]),t._v(" "),s("fa-icon",{staticClass:"cursor-pointer",attrs:{icon:["fas","times"]},on:{click:function(e){return t.removeAmount(a)}}})],1)})),0),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.addAmount(e)}}},[s("v-input",{staticClass:"mb-4",attrs:{money:"","input-class":"ltr",name:"amount",label:"مبلغ جدید (تومان)",error:t.$page.props.errors.amounts&&t.$page.props.errors.amounts.amounts},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),t._v(" "),s("v-button",{staticClass:"mt-5",attrs:{loading:t.savingAmounts},on:{click:t.addAmount}},[t._v("افزودن مبلغ")])],1)],1),t._v(" "),s("v-card",{staticClass:"mb-5"},[s("v-title",{staticClass:"mb-5",attrs:{small:""}},[t._v("متن پیام تشکر")]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.updateThankYouMessage(e)}}},[s("v-textarea",{attrs:{name:"thank_you_message",label:"این پیام بعد از پرداخت موفق به حامی نمایش داده میشه",error:t.$page.props.errors.thankYouMessage&&t.$page.props.errors.thankYouMessage.text},model:{value:t.thankYouMessage,callback:function(e){t.thankYouMessage=e},expression:"thankYouMessage"}}),t._v(" "),s("v-button",{staticClass:"mt-5",attrs:{loading:t.savingThankYouMessage},on:{click:t.updateThankYouMessage}},[t._v("ذخیره")])],1)],1)],1)}),[],!1,null,null,null);e.default=l.exports}}]);