"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[347,701,52],{8347:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(7052);const r={name:"PageInfo",components:{Info:s(8701).default,Username:a.default}};const n=(0,s(1900).Z)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("page-settings",[s("username",{staticClass:"mb-5"}),e._v(" "),s("info",{staticClass:"mb-5"})],1)}),[],!1,null,null,null).exports},8701:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var a=s(7757),r=s.n(a);function n(e,t,s,a,r,n,i){try{var o=e[n](i),c=o.value}catch(e){return void s(e)}o.done?t(c):Promise.resolve(c).then(a,r)}const i={name:"Info",data:function(){return{form:{name:this.$page.props.user.name,name_en:this.$page.props.user.name_en,bio:this.$page.props.user.bio,bio_en:this.$page.props.user.bio_en},saving:!1,fa:!0}},methods:{save:function(){var e,t=this;return(e=r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.saving=!0,e.next=3,t.$inertia.post(route("page-settings.info"),t.form,{preserveScroll:!0,preserveState:!0});case 3:t.saving=!1;case 4:case"end":return e.stop()}}),e)})),function(){var t=this,s=arguments;return new Promise((function(a,r){var i=e.apply(t,s);function o(e){n(i,a,r,o,c,"next",e)}function c(e){n(i,a,r,o,c,"throw",e)}o(void 0)}))})()}}};const o=(0,s(1900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-card",{staticClass:"mb-5"},[s("v-title",{staticClass:"mb-5",attrs:{small:""}},[e._v("تصویر پروفایل")]),e._v(" "),s("div",{staticClass:"flex items-center mb-5"},[s("v-avatar",{ref:"avatar",staticClass:"ml-3 md:ml-5",attrs:{user:e.$page.props.user,size:"w-16 h-16 md:w-20 md:h-20",font:"text-md md:text-2xl",upload:""}}),e._v(" "),s("div",{staticClass:"flex items-center"},[s("v-button",{attrs:{type:"secondary",small:""},on:{click:function(t){return e.$refs.avatar.selectFile()}}},[e._v("آپلود")]),e._v(" "),e.$page.props.user.avatar?s("v-button",{staticClass:"mr-2",attrs:{type:"color",color:"red",small:""},on:{click:function(t){e.$inertia.visit(e.route("page-settings.info.avatar"),{method:"delete"})}}},[s("span",{staticClass:"md:hidden"},[e._v("حذف")]),e._v(" "),s("span",{staticClass:"hidden md:block"},[e._v("حذف تصویر")])]):e._e()],1)],1)],1),e._v(" "),s("v-card",[s("div",{staticClass:"flex items-center justify-between mb-5"},[s("v-title",{attrs:{small:""}},[e._v("اطلاعات عمومی")]),e._v(" "),s("div",{staticClass:"flex items-center justify-end"},[s("span",{staticClass:"w-16 text-left"},[e._v("فارسی")]),e._v(" "),s("label",{staticClass:"switch mx-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.fa,expression:"fa"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.fa)?e._i(e.fa,null)>-1:e.fa},on:{change:function(t){var s=e.fa,a=t.target,r=!!a.checked;if(Array.isArray(s)){var n=e._i(s,null);a.checked?n<0&&(e.fa=s.concat([null])):n>-1&&(e.fa=s.slice(0,n).concat(s.slice(n+1)))}else e.fa=r}}}),e._v(" "),s("span",{staticClass:"slider active"})]),e._v(" "),s("span",{staticClass:"w-16 text-right"},[e._v("انگلیسی")])])],1),e._v(" "),s("form",[e.fa?[s("v-input",{staticClass:"mb-4",attrs:{name:"name",label:"نام من",error:e.$page.props.errors.info&&e.$page.props.errors.info.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),s("v-textarea",{attrs:{name:"bio",label:"درباره من",error:e.$page.props.errors.bio&&e.$page.props.errors.info.bio},model:{value:e.form.bio,callback:function(t){e.$set(e.form,"bio",t)},expression:"form.bio"}})]:s("div",{staticClass:"ltr"},[s("v-input",{staticClass:"mb-4",attrs:{name:"name_en",label:"Name",error:e.$page.props.errors.info&&e.$page.props.errors.info.name_en},model:{value:e.form.name_en,callback:function(t){e.$set(e.form,"name_en",t)},expression:"form.name_en"}}),e._v(" "),s("v-textarea",{attrs:{name:"bio_en",label:"Bio",error:e.$page.props.errors.bio_en&&e.$page.props.errors.info.bio_en},model:{value:e.form.bio_en,callback:function(t){e.$set(e.form,"bio_en",t)},expression:"form.bio_en"}})],1),e._v(" "),s("v-button",{staticClass:"mt-5",attrs:{loading:e.saving},on:{click:e.save}},[e._v("ذخیره")])],2)])],1)}),[],!1,null,null,null).exports},7052:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(7757),r=s.n(a);function n(e,t,s,a,r,n,i){try{var o=e[n](i),c=o.value}catch(e){return void s(e)}o.done?t(c):Promise.resolve(c).then(a,r)}function i(e){return function(){var t=this,s=arguments;return new Promise((function(a,r){var i=e.apply(t,s);function o(e){n(i,a,r,o,c,"next",e)}function c(e){n(i,a,r,o,c,"throw",e)}o(void 0)}))}}const o={name:"Username",data:function(){return{searchQuery:this.$page.props.user.username,isTyping:!1,isLoading:!1,keyUp:!1,saving:!1,checked:!1}},watch:{searchQuery:_.debounce((function(){this.isTyping=!1}),700),isTyping:function(e){!e&&this.keyUp&&this.searchQuery.length>0&&this.search(this.searchQuery)}},methods:{search:function(e){var t=this;return i(r().mark((function s(){return r().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t.isLoading=!0,s.next=3,t.$inertia.post(route("page-settings.info.check-username"),{username:e});case 3:t.keyUp=!1,t.isLoading=!1,t.checked=!0;case 6:case"end":return s.stop()}}),s)})))()},save:function(){var e=this;return i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.saving=!0,t.next=3,e.$inertia.post(route("page-settings.info.username"),{username:e.searchQuery},{preserveScroll:!0});case 3:e.saving=!1;case 4:case"end":return t.stop()}}),t)})))()}}};const c=(0,s(1900).Z)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",[s("v-title",{staticClass:"mb-5",attrs:{small:""}},[e._v("نام کاربری")]),e._v(" "),s("form",[s("v-input",{staticClass:"mb-2",attrs:{"input-class":"ltr",name:"username",label:"این فیلد همان آدرس صفحه شماست که به صورت ibio.link/yourname خواهد بود"},on:{keyup:function(t){e.keyUp=!0},input:function(t){e.isTyping=!0}},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),e._v(" "),s("div",{staticClass:"text-sm mb-5"},[e.isLoading?s("span",{staticClass:"text-gray-500"},[e._v("درحال بررسی...")]):e.$page.props.errors.username?s("span",{staticClass:"text-red-500"},[e._v(e._s(e.$page.props.errors.username.username))]):e.checked?s("span",{staticClass:"text-green-500"},[e._v("تبریک! نام کاربری مورد نظر موجوده")]):e._e()]),e._v(" "),s("v-button",{attrs:{loading:e.saving,disabled:e.saving||e.isLoading},on:{click:e.save}},[e._v("ذخیره")])],1)],1)}),[],!1,null,null,null).exports}}]);